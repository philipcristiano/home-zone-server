---

- hosts: all
  roles:
  - common
  vars:
    domain: home.philipcristiano.com
    nameservers:
    - 192.168.1.1
    - 8.8.8.8

- hosts: physical
  roles:
  - philipcristiano.ntp
  - { role: omnios-zone, zone_name: repo, net_physical: repo1 }
  - { role: omnios-zone, zone_name: dev, net_physical: zonedev1 }
  - { role: omnios-zone, zone_name: test, net_physical: zonetest1 }
  - { role: omnios-zone, zone_name: daltest1, net_physical: daltest1 }
  - { role: omnios-zone, zone_name: zmbuild, net_physical: zmbuild1 }
  - { role: omnios-zone, zone_name: zmstage, net_physical: zmstage1 }

- hosts: repository
  roles:
  - { role: omnios-ips-repository,
      dataset: rpool/zones/repo/ROOT/storage,
      mount_path: /opt/storage,
      depotd_port: "10000",
      publisher: repo.home.philipcristiano.com }

- hosts: dev
  roles:
  - dev
